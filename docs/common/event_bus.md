# Шина сообщений

Шина сообщений нужна, когда необходимо реагировать на те или иные события.
Это могут быть как события пользовательского интерфейса, так и служебные
события внутри приложения.

**Не стоит переусердствовать с шиной. Слишком частое ее использование,
может привести к запутыванию. Следует использовать только в том случае,
если нет других вариантов.**

Для сообщений используются два подхода:

- Шина сообщений в контексте Activity. Используется , например, для связывания
презентеров в контексте одной активити. Кейсы:
    - 2 фрагмента лежат на одной активити,
и должны реагировать на события друг друга;
    - Несколько [виджетов][widget] на одном экране;
    - Различная навигация в зависимости от того, что за девайс - планшет или телефон.
    Например в случае телефона открывается экран, а в случае планшета
    посылается событие через шину.

    Реализация такой шины представлена
модулем [rxbus](../../rxbus/README.md).

- Эммитер внутри интерактора. Таким образом можно связать несколько активити.
Кейс: по удачному запросу обновить данные на n экранах.

**Важно** : для этих целей не используем BroadcastReceiver.

Для подписки на внешние события(системные) используется обертка над [BroadCastReceiver](../../broadcast-extension/README.md).

[widget]: ../../mvp-widget/README.md