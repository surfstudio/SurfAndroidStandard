import ru.surfstudio.android.build.tasks.*
import ru.surfstudio.android.build.tasks.check_stable_artifacts_exist_in_repositories.*
import ru.surfstudio.android.build.tasks.check_dependencies_stable.*
import ru.surfstudio.android.build.tasks.deploy_to_mirror.*

task checkStandardDependenciesStableTask(type: CheckStandardDependenciesStableTask)

task checkStableComponentStandardDependenciesStableTask(type: CheckStableComponentStandardDependenciesStableTask) //pr

task checkExistingDependencyArtifactsInArtifactory(type: CheckExistingDependencyArtifactsInArtifactoryTask)

task checkExistingDependencyArtifactsInBintray(type: CheckExistingDependencyArtifactsInBintrayTask)

task checkDependencyForComponentUnstable(type: CheckDependencyForComponentUnstableTask)

task checkStableComponentsChanged(type: CheckStableComponentsChangedTask) //pr

task createProjectConfiguration(type: CreateProjectConfigurationTask)

task runCreateProjectConfigurationFromTemp(type: GradleBuild) {
    dir = file('./temp')
    tasks = ['CreateProjectConfiguration']
    doFirst {
        def pathToProject = null
        def revision = null
        if (project.hasProperty('pathToProject')) {
            pathToProject = project.findProperty('pathToProject')
        } else {
            throw new GradleException("No arguments found")
        }
        if (project.hasProperty('revision')) {
            revision = project.findProperty('revision')
        } else {
            throw new GradleException("No arguments found")
        }
        startParameter.projectProperties = [pathToProject: pathToProject, revision: revision]
    }
}

task incrementUnstableChangedComponents(type: IncrementUnstableChangedComponentsTask) // dev

task checkSameDependencyArtifactsInArtifactory(type: CheckSameDependencyArtifactsInArtifactoryTask)

task checkSameDependencyArtifactsInBintray(type: CheckSameDependencyArtifactsInBintrayTask)

task checkUnstableToStableChanged(type: CheckUnstableToStableChangedTask) // pr

task checkComponentStable(type: CheckComponentStableTask)

task checkVersionEqualsComponentVersion(type: CheckVersionEqualsComponentVersionTask)

task generateDataForPlugin(type: GenerateDataForPluginTask)

task incrementGlobalUnstableVersion(type: IncrementGlobalUnstableVersionTask) //dev

task incrementProjectSnapshotVersion(type: IncrementProjectSnapshotVersionTask)

task checkReleaseNotesContainCurrentVersion(type: CheckReleaseNotesContainCurrentVersion) //pr

task checkStableArtifactsExistInArtifactoryTask(type: CheckStableArtifactsExistInArtifactoryTask) //pr

task checkStableArtifactsExistInBintrayTask(type: CheckStableArtifactsExistInBintrayTask) //pr

task setComponentAlphaCounterToZero(type: SetComponentAlphaCounterToZeroTask)

task checkReleaseNotesChanged(type: CheckReleaseNotesChangedTask) //pr

task deployToMirror(type: DeployToMirrorTask)

task generateModulesNamesFile(type: GenerateModuleNameFileTask)

task checkConfigurationIsProjectSnapshotTask(type: CheckConfigurationIsProjectSnapshotTask)